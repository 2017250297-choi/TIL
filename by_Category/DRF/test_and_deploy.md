# 완성도 높이기 : SA(설계)와 결과물 일치시키기

# 테스트

모든 테스트는 독립적이다.
순차적으로 테스트 하기: SetUp, SetUpTestData

# 테스트 자동화: github actions

PR을 보내거나 push할 때마다 지정된 코드를 실행하게하는 기능이다. `.github/workflows/<테스트 이름>.yml` 을 작성.

주의: yml은 탭, 공백, 개행에 매우 민감하므로 유의하여 작성한다.
권장: 스페이스 2회로 들여쓰기 통일

#이 주석

배포, 서버관리시 자주 접하는 파일이므로 문법에 익숙해지는 것이 좋다.

- name : 이름
- on : 언제?
- jobs : 무엇을?

1. os 설정
2. pip upgrage
3. 패키지 설치
4. test 실행

## 테스트 코드가 변경되야할 때

코드의 **실행 결과가 달라질 때 마다** 변경 되어야한다. 따라서 지속적으로 관리, 전담하는 사람이 있으면 좋다.

이렇게 철저한 관리가 힘들다면 그냥 github actions는 안쓰는 것이 낫다.

# 배포

- nginx, gunicorn, Docker (+ 다른 DB 쓰기)

## nginx

웹 서버의 일종이다. Django는 웹 어플리케이션서버(WAS)이다. 웹서버는 단순 정적 파일(static image,html, css ...)만 응답한다. WAS는 동적인 정보까지 응답이 가능하다.
웹서버가 처리가능한 정적 데이터는 웹서버상에서 처리하며 캐싱, 비동기, 로드밸런싱등도 함께 한다.

## gunicorn

웹 서버와 WAS간의 번역기 역할을 한다. nginx에게 gunicorn은 WAS이고 WAS에게 gunicorn은 웹서버이다.

## Docker

독립된 작업환경(컨테이너), 경량화된 운영체제

## DB

SQLite는 배포용으로는 부적합하므로 MariaDB, MySQL 등 다른 DB를 사용하는 것이 좋다.

## Dockerfile

## CI/CD의 개념

빌드 테스트를 자동화하여 **지속적 통합과 지속적 배포**를 추구한다.
선행 지식: 테스트 자동화,
